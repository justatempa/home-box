# 字段优化方案

## 一、基础信息字段（Item 模型）

### 已有字段
- ✅ `name` - 物品名称
- ✅ `categoryId` - 分类
- ✅ `coverImageId` - 主图片
- ✅ `inboundAt` - 入库时间
- ✅ `statusValue` - 状态（字典）
- ✅ `acquireMethodValue` - 获取方式（字典）
- ✅ `price` - 购买价格（分）
- ✅ `isFavorite` - 收藏标记
- ✅ `rating` - 星级评分
- ✅ `note` - 备注
- ✅ `parentId` - 配件归属

### 新增基础字段
- ✅ `quantity` - 数量（默认1）
- ✅ `storageLocationValue` - 存放位置（字典）
- ✅ `conditionValue` - 物品成色（字典）
- ✅ `estimatedValue` - 预估现价（分）
- ✅ `borrowedTo` - 出借给谁
- ✅ `borrowedAt` - 出借日期
- ✅ `expectedReturnAt` - 应归还日期

## 二、通过字典实现的字段

### ITEM_STATUS（物品状态）
- 在用、闲置、已出借、已捐赠、已出售、已丢弃、维修中

### ACQUIRE_METHOD（获取方式）
- 购买、赠与、交换、自制、租赁、继承、拾得、奖品

### STORAGE_LOCATION（存放位置）
- 客厅、卧室、书房、厨房、阳台、储藏室、车库、地下室、阁楼、办公室

### ITEM_CONDITION（物品成色）
- 全新、几乎全新、良好、一般、较差

### MATERIAL（材质）
- 塑料、金属、木材、玻璃、布料、皮革、陶瓷、纸质、橡胶、石材

### PRIORITY（优先级）
- 高、中、低

## 三、通过模板实现的详细字段

### 电子产品模板
- 通用电子产品：品牌、型号、序列号、购买日期、保修到期、颜色
- 手机：IMEI、存储容量、运营商
- 电脑：CPU、内存、硬盘、显卡、操作系统

### 书籍模板
- 作者、出版社、ISBN、出版日期、页数、语言、是否已读

### 服装模板
- 品牌、尺码、颜色、材质、季节、洗涤说明

### 家具模板
- 品牌、材质、尺寸、重量、颜色、是否需要组装

### 收藏品模板
- 系列、角色、厂商、比例、发售日期、是否限定版、编号

### 工具模板
- 品牌、型号、功率、电压、重量、上次保养日期

### 文具模板
- 品牌、型号、颜色、数量

### 运动器材模板
- 品牌、型号、尺寸、重量、运动类型

### 财务与保修模板
- 购买日期、购买渠道、商品链接、保修期至、发票编号

### 维护记录模板
- 下次维护日期、使用说明、注意事项

## 四、执行步骤

1. **停止所有占用数据库的进程**
   ```bash
   # 停止开发服务器
   # 关闭 Prisma Studio
   # 关闭任何数据库查看工具
   ```

2. **运行数据库迁移**
   ```bash
   npm run db:push
   ```

3. **运行种子数据**
   ```bash
   npm run db:seed
   ```

4. **重启开发服务器**
   ```bash
   npm run dev
   ```

## 五、字段分类原则

### 基础字段（放在 Item 模型）
- 所有物品都需要的通用字段
- 用于列表筛选和排序的字段
- 高频使用的字段

### 字典字段（通过 Dictionary）
- 有固定选项的枚举类型
- 需要用户自定义选项的字段
- 用于筛选和统计的分类字段

### 模板字段（通过 Template）
- 特定类别物品的专属字段
- 低频使用的详细信息
- 灵活可扩展的自定义字段
